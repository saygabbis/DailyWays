/* ===== App Layout ===== */

.app-layout {
  display: flex;
  min-height: 100vh;
}

.app-main {
  flex: 1;
  margin-left: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background: var(--bg-primary);
  transition: background-color var(--transition-base), margin-left var(--transition-base);
  /* Allow flex children to shrink and scroll */
  min-width: 0;
}

.app-main.sidebar-pushed {
  margin-left: var(--sidebar-width);
}

.app-content {
  flex: 1;
  /* Allow vertical scroll in non-board views (Dashboard, MyDay, etc) */
  overflow-y: auto;
  overflow-x: hidden;
  /* Enable flex child scrolling */
  min-height: 0;
}

/* ── Loading ── */
.app-loading {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-primary);
}

.app-loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--border-color);
  border-top-color: var(--accent-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* ── Mobile: sidebar overlays, don't push content ── */
@media (max-width: 768px) {
  .app-main.sidebar-pushed {
    margin-left: 0;
  }
}